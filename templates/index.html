<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Gobi Arts and Science College Chat Bot</title>
  <link rel="icon" href="{{ url_for('static', filename='images/icon.png') }}" type="image" sizes="16x16">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='assets/bootstrap/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/fonts/ionicons.min.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/Login-Form-Dark.css') }}">

</head>

<body>
  <section class="msger">
   

      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <!--a class="navbar-brand" href="#">Gobi Arts and Science College Bot</a-->
        <a class="navbar-brand" href="#" style="color: white;">
          &emsp;<i class="fas fa-graduation-cap"></i> <b> &nbsp; Gobi Arts and Science College Chat Bot &emsp; </b></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item active"><a class="nav-link" href="/index">Home</a></li>

            
            <li class="nav-item">
              <a class="nav-link" data-toggle="modal" data-target="#exampleModalScrollable" href="#"> About Us </a>
             </li>

            <li class="nav-item">
              <a class="nav-link" data-toggle="modal" data-target="#exampleModal" href="#">Suggestion box</a>
            </li>


            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Suggestion box</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action='/suggestion' method='POST'>
                      <div class="form-group">
                        <input type="email" name='uemail' class='form-control' placeholder="Email" required>
                        <br>
                        <textarea class="form-control" id="message-text" placeholder="Enter your suggestion..." name="message" required></textarea>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="Submit" class="btn btn-primary" data-target="#alert">Submit</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalScrollableTitle">Gobi Arts and Science College Chat Bot </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                   <h3>About Us</h3>
                   <div><img src="{{ url_for('static', filename='images/gobi arts image.png') }}" height="auto" width="100%" style="border: 3px solid black;"></div>
                    <br> <br>
<p>Welcome to Gobi Arts and Science College!

  Located in the Gobichettipalayam, our college stands as a beacon of knowledge, innovation, and holistic education. Since it's established in 1968, Gobi Arts and Science College (GASC) has been committed to shaping the future of students through quality education, moral values, and skill development.</p>
  <b>Our Mission</b>
    <p>To empower students with academic excellence, critical thinking, and ethical values, fostering leaders who contribute to society meaningfully.</p>
    <b>Our Vision</b>
    <ul type="square">
    <li>Founded in 1968, GASC has over five decades of academic excellence and community service.</li>
    <li> Affiliated with Bharathiar University, the college enjoys autonomous to design innovative and industry-relevant curriculums.</li>
    <li>Awarded an 'A' Grade by NAAC, showcasing it's quality in education and institutional standards.</li>
    <li>Accredited with ‚ÄòA‚Äô Grade by NAAC (4th cycle).</li>
    <li>To be a center of excellence in education, where students excel academically, socially, and spiritually.</li>
    <li>Offers undergraduate, postgraduate, and research programs in Arts, Science, Commerce, Computer Applications, and emerging fields like AI & Data Science.</li>
  <li>Focuses on nurture well-rounded individuals.</li>
  <li>An active placement cell provides internships, job placements, and career guidance to students.</li>
  <li>Features cutting-edge laboratories, a comprehensive library, smart classrooms, and advanced sports infrastructure.</li>
  <li>Adopts outcome-based education (OBE) to ensure students are equipped with critical skills for real-world challenges.</li>
  <li>Recognized as a STAR College by the Department of Biotechnology (DBT), Government of India, for excellence in science education.</li>
  <li>Focuses on the holistic development of students through extracurricular activities, soft skills training, and ethical values</li>
    </ul>
                    <h3>Contact Us</h3>
                    
                    <ul>
                    
                    <li style = "margin-left:15px">Email: gobiartscollege@gascgobi.ac.in</li>
                      <li style = "margin-left:15px"> Phone: +91-4285-240147, +91-4285-240741</li>
                      <li style = "margin-left:15px">Website: gascgobi.ac.in</li>
                    <li style = "margin-left:15px">By Subha üòä </li>
                    </ul>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
            <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
            
          </ul>
        </div>
    
   
    </nav>
    <!--header class="msger-header">
      <div class="msger-header-title">
        <h5><i class="fas fa-graduation-cap"></i> <b> &emsp; Gobi Arts and Science College Bot &emsp; </b><i class="fas fa-graduation-cap"></i></h5>
      </div>
    </header-->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible" id="alert" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <strong>{{ message }}</strong>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
   
   
    <main class="msger-chat" style="color: white;">
    </br>
      <div class="msg left-msg">       
        <div class="msg-img">
          <img src="{{ url_for('static', filename='images/bot.jpeg') }}" alt="Bot Image" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
      </div>
      <div class="msg-bubble">
          <div class="msg-info">
            <div class="msg-info-name"><b>Gobi Arts and Science College BOT</b> </div>
          </div>      
              
          <div class="msg-text" style="color: white;">
            <b >Hi there, Welcome to  Gobi Arts and Science College! üëã If you need any assistance, I'm always here.
          </div>
        </div>
      </div> 
      <div class="msg left-msg">       
        <div class="msg-img">
          <img src="{{ url_for('static', filename='images/bot.jpeg') }}" alt="Bot Image" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
      </div>
      
        <div class="msg-bubble">
          <div class="msg-info">
            <div class="msg-info-name"> <b>Gobi Arts and Science College Chat Bot</b></div>
          </div>      
              
          <div class="msg-text" style="color: white;">
           Which of the following user groups do you belong to?
            
              <br><br>1.&emsp;Student's Section Enquiry.</br>2.&emsp;Faculty Section Enquiry. </br>3.&emsp;Parent's Section Enquiry.</br>4.&emsp;Visitor's Section Enquiry.</br>
    
        </div>               
          
        </div>
      </div>

    </main>

    <form class="msger-inputarea">
      <input type="text" class="msger-input" id="textInput" placeholder="Enter your enquiry...">
      <button type="button" id="voice-btn">üéôÔ∏è Voice</button>
      <button type="submit" class="msger-send-btn">Send</button>
    </form>
    <script>
      const voiceBtn = document.getElementById("voice-btn");
      const sendBtn = document.getElementById("send-btn");
      const textInput = document.getElementById("textInput");
  
      let recognition;
  
      function initializeRecognition() {
        if ('webkitSpeechRecognition' in window) {
          recognition = new webkitSpeechRecognition();
          recognition.lang = "en-US";
          recognition.continuous = false;
          recognition.interimResults = false;
  
          recognition.onresult = (event) => {
            textInput.value = event.results[0][0].transcript;
            voiceBtn.textContent = "üéôÔ∏è Voice";
          };
  
          recognition.onerror = (event) => {
            console.error("Speech Recognition Error:", event.error);
            alert("Speech Recognition Error: " + event.error);
            voiceBtn.textContent = "üéôÔ∏è Voice";
          };
  
          recognition.onend = () => {
            voiceBtn.textContent = "üéôÔ∏è Voice";
          };
        } else {
          alert("Voice recognition is not supported in this browser.");
        }
      }
  
      // Initialize recognition on page load
      initializeRecognition();
  
      // Voice recognition button handler
      voiceBtn.addEventListener("click", () => {
        if (!recognition) {
          initializeRecognition();
        }
        try {
          recognition.start();
          voiceBtn.textContent = "Listening...";
        } catch (error) {
          console.error("Recognition Start Error:", error);
          alert("Voice recognition could not start. Please try again.");
        }
      });
  
      // Send button handler
      sendBtn.addEventListener("click", () => {
        const userInput = textInput.value.trim();
        if (userInput) {
          alert(`Message sent: ${userInput}`);
          textInput.value = ""; // Clear input after sending
        } else {
          alert("Please enter or speak a message before sending.");
        }
      });
    </script>
    
     
</section>
  <!-- partial -->
  <script src='https://use.fontawesome.com/releases/v5.0.13/js/all.js'></script>
  <script>

    $("#alert").delay(3000).slideUp(200, function() {
    $(this).alert('close');
    });

    $('#myModal').on('shown.bs.modal', function () {
      $('#myInput').trigger('focus')
    })
    
    const msgerForm = get(".msger-inputarea");
    const msgerInput = get(".msger-input");
    const msgerChat = get(".msger-chat");


    // Icons made by Freepik from www.flaticon.com
    const BOT_IMG = "{{ url_for('static', filename='images/bot.jpeg') }}";
    const PERSON_IMG = "{{url_for('static',filename='images/user.jpeg')}}";
    const BOT_NAME = "Gobi Arts and Science College Bot";
    const PERSON_NAME = "You";

    msgerForm.addEventListener("submit", event => {
      event.preventDefault();

      const msgText = msgerInput.value;
      if (!msgText) return;

      appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
      msgerInput.value = "";
      botResponse(msgText);
    });

    function appendMessage(name, img, side, text) {
      //   Simple solution for small apps
      const msgHTML = `
<div class="msg ${side}-msg">
  <div class="msg-img" style="background-image: url(${img})"></div>

  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">${name}</div>
      <div class="msg-info-time">${formatDate(new Date())}</div>
    </div>

    <div class="msg-text">${text}</div>
  </div>
</div>
`;

      msgerChat.insertAdjacentHTML("beforeend", msgHTML);
      msgerChat.scrollTop += 500;
    }

    function botResponse(rawText) {

      // Bot Response
      $.get("/get", { msg: rawText }).done(function (data) {
        console.log(rawText);
        console.log(data);
        const msgText = data;
        appendMessage(BOT_NAME, BOT_IMG, "left", msgText);

      });

    }


    // Utils
    function get(selector, root = document) {
      return root.querySelector(selector);
    }

    function formatDate(date) {
      const h = "0" + date.getHours();
      const m = "0" + date.getMinutes();

      return `${h.slice(-2)}:${m.slice(-2)}`;
    }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
</body>
</html>

